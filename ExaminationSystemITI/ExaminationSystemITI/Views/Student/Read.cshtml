
@using ExaminationSystemITI.Models.ViewModels
@model IEnumerable<StudentCoursesViewModel>
@{
    ViewData["Title"] = "Dashboard";
    Layout = "_DashboardLayout";
}
    <seciton class="w-100 d-flex flex-column" style="gap: 16px;">
    <select class="form-select w-100">
        <option class="form-control" onclick="location.href='/admin/read'">Admin</option>
        <option class="form-control" onclick="location.href='/choice/read'">Choice</option>
        <option class="form-control" onclick="location.href='/course/read'">Course</option>
        <option class="form-control" onclick="location.href='/department/read'">Department</option>
        <option class="form-control" onclick="location.href='/exam/read'">Exam</option>
        <option class="form-control" onclick="location.href='/instructor/read'">Instructor</option>
        <option class="form-control" onclick="location.href='/question/read'">Question</option>
        <option class="form-control" onclick="location.href='/student/read'" selected>Student</option>
        <option class="form-control" onclick="location.href='/topic/read'">Topic</option>
        <option class="form-control" onclick="location.href='/user/read'">User</option>
    </select>
        <a asp-action="create" asp-controller="student" class="btn btn-success poppins-semibold rounded" style="padding: 8px 16px; border: none;text-decoration: none; text-align: center;">
            Create
        </a>
        <table class="get-data table table-border table-hover">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Address</th>
                    <th>Faculty</th>
                    <th>GraduationYear</th>
                    <th>Department</th>
                    <th>Courses</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Count() == 0)
                {
                    <tr>
                        <td colspan="9">No Student Exist!!</td>
                    </tr>
                }
                else
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Student.Id</td>
                            <td>@item.Student.FirstName</td>
                            <td>@item.Student.LastName</td>
                            <td>@item.Student.Age</td>
                            <td>@item.Student.Gender</td>
                            <td>@item.Student.Address</td>
                            <td>@item.Student.Faculty</td>
                            <td>@item.Student.GraduationYear</td>
                            <td>@item.Student.Department.Name</td>
                            <td>
                                @foreach (var course in Model)
                                    @if (course.Student.Id == item.Student.Id && course.Courses.Count() > 0)
                                        @foreach (var c in course.Courses)
                                            @c.Name

                        </td>
                            <td style="white-space: nowrap;">
                                <a asp-action="Edit" asp-controller="Student" asp-route-id="@item.Student.Id" class="btn btn-primary poppins-semibold rounded" style="padding: 8px 16px; border: none;transition-duration: 0.25s; text-decoration: none; text-align: center;">
                                    Update
                                </a>
                                <a asp-action="Delete" asp-controller="Student" asp-route-id="@item.Student.Id" class="btn btn-danger poppins-semibold rounded" style="padding: 8px 16px; border: none;text-decoration: none; text-align: center;" onclick="return confirm('Are you sure?')">
                                    Delete
                                </a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </seciton>
